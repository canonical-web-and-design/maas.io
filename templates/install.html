{% extends "base_index.html" %}

{% block page_class %}install{% endblock %}
{% block page_title %}| Install MAAS{% endblock %}
{% block meta_copydoc %}https://docs.google.com/document/d/1uVdX719h32QuWT0Dwe_hZTFuCvi4b3XQOcOoQtINH88/edit{% endblock meta_copydoc %}

{% block content %}
<section class="p-strip--image is-dark is-deep p-takeover--no-overlays">
  <div class="row">
    <div class="col-7 suffix-one">
      <h1>Install MAAS</h1>
      <p class="p-heading--four">
        Follow the instructions below to download, configure and
        install&nbsp;MAAS.
      </p>
    </div>
    <div class="col-5 p-card u-no-margin--bottom">
      <h3>Talk to our experts</h3>
      <p>
        We make MAAS amazing, and we help people run critical infrastructure at
        scale with it. Contact us for more information or to discuss your
        specific needs.
      </p>
      <div>
        <a
          aria-label="Contact us for more information or to discuss your specific MAAS needs"
          href="/contact-us"
          class="js-invoke-modal"
          onclick="dataLayer.push({'event' : 'GAEvent', 'eventCategory' : 'Interested in Professional', 'eventAction' : 'Click', 'eventLabel' : 'Contact Us' });"
          >Contact us&nbsp;&rsaquo;</a
        >
      </div>
    </div>
  </div>
</section>
<section class="p-strip is-deep is-bordered">
  <div class="row">
    <div class="col-12">
      <ol class="p-stepped-list--detailed">
        <li class="p-stepped-list__item">
          <h3 class="p-stepped-list__title">Setup your hardware</h3>
          <div class="p-stepped-list__content">
            <p>You need:</p>
            <ol>
              <li>One small server for MAAS</li>
              <li>At least one server which can be managed with a BMC</li>
            </ol>
            <p>
              It is recommended to have the MAAS server provide DHCP and DNS on
              a network that the managed machines are connected to.
            </p>
          </div>
        </li>
        <li class="p-stepped-list__item">
          <h3 class="p-stepped-list__title">Install Ubuntu Server</h3>
          <p class="p-stepped-list__content">
            <a
              aria-label="External link to download Ubuntu Server 20.04 LTS"
              href="https://www.ubuntu.com/download/server"
              onclick="dataLayer.push({'event' : 'GAEvent', 'eventCategory' : 'Download Ubuntu Server', 'eventAction' : 'Click', 'eventLabel' : 'Download Ubuntu Server 20.04 LTS' });"
              class="p-link--external"
              >Download Ubuntu Server 20.04 LTS</a
            >
            by choosing the Manual install option and follow the step-by-step
            installation instructions on your MAAS server.
          </p>
        </li>

        <li class="p-stepped-list__item">
          <h3 class="p-stepped-list__title">Install MAAS</h3>
          <div class="p-stepped-list__content">
            <div class="p-code-copyable">
              <input
                class="p-code-copyable__input"
                value="sudo snap install maas"
                readonly="readonly"
              />
              <button class="p-code-copyable__action">Copy to clipboard</button>
            </div>
          </div>
        </li>
        <li class="p-stepped-list__item">
          <h3 class="p-stepped-list__title">Install the MAAS test database</h3>
          <div class="p-stepped-list__content">
            <p>Install a running PostgreSQL and a MAAS-ready database.</p>
            <div class="p-code-copyable">
              <input
                class="p-code-copyable__input"
                value="sudo snap install maas-test-db"
                readonly="readonly"
              />
              <button class="p-code-copyable__action">Copy to clipboard</button>
            </div>
          </div>
        </li>
        <li class="p-stepped-list__item">
          <h3 class="p-stepped-list__title">Initialise MAAS</h3>
          <div class="p-stepped-list__content">
            <p>Create your admin credentials and initialise MAAS.</p>
            <div class="p-code-copyable">
              <input
                class="p-code-copyable__input"
                value="sudo maas init region+rack --database-uri maas-test-db:///"
                readonly="readonly"
              />
              <button
                class="p-code-copyable__action"
                onclick="dataLayer.push({'event' : 'GAEvent', 'eventCategory' : 'Completion', 'eventAction' : 'Click', 'eventLabel' : 'Install' });"
              >
                Copy to clipboard
              </button>
            </div>
            <p>
              Log in to the MAAS <abbr title="User interface">UI</abbr> at
              http://&lt;your.maas.ip&gt;:5240/MAAS/
            </p>
          </div>
        </li>
        <li class="p-stepped-list__item">
          <h3 class="p-stepped-list__title">
            Complete the first user configuration journey
          </h3>
          <div class="p-stepped-list__content">
            <p>
              Follow the instructions on screen to complete the first
              installation of MAAS. We recommend using the default values unless
              your installation has different requirements.
            </p>
            <p>
              By the end of the journey you should have the following
              configured;
            </p>
            <ul>
              <li>Region name (MAAS name)</li>
              <li>Ubuntu archive, Ubuntu extra architectures</li>
              <li>Ubuntu images</li>
              <li>
                <abbr title="Secure shell">SSH</abbr> keys (for currently logged
                in user)
              </li>
            </ul>
            <p>
              <a
                href="https://assets.ubuntu.com/v1/0d7788a1-Complete+the+first+user+configuration+journey.png"
                class="venobox venobox--expand"
                data-gall="installGallery"
                title="Initial screen of the first use journey"
              >
                <img
                  src="https://assets.ubuntu.com/v1/0d7788a1-Complete+the+first+user+configuration+journey.png?w=552"
                  alt="First user journey screenshot"
                  class="p-image--bordered"
                />
              </a>
            </p>
          </div>
        </li>
        <li class="p-stepped-list__item">
          <h3 class="p-stepped-list__title">
            <span class="p-stepped-list__bullet">6</span>
            Turn on DHCP
          </h3>
          <div class="p-stepped-list__content">
            <p>
              Go to the &ldquo;Subnets&rdquo; tab, and select the
              <abbr title="Virtual Local Area Network">VLAN</abbr> for which you
              want to enable DHCP. From the &ldquo;Take action&rdquo; button
              select &ldquo;Provide DHCP&rdquo;.
            </p>
            <ol>
              <li>Set the Rack controller that will manage DHCP.</li>
              <li>
                Select the subnet where to create the DHCP Dynamic range on.
              </li>
              <li>Fill in the details for the dynamic range.</li>
            </ol>
            <p>
              <a
                href="https://assets.ubuntu.com/v1/6727ac9a-2.6-enable-dhcp.png"
                class="venobox venobox--expand"
                data-gall="installGallery"
                title="VLAN details page in an active MAAS"
              >
                <img
                  src="https://assets.ubuntu.com/v1/6727ac9a-2.6-enable-dhcp.png?w=552"
                  alt="VLAN details"
                  class="p-image--bordered"
                />
              </a>
            </p>
          </div>
        </li>
        <li class="p-stepped-list__item">
          <h3 class="p-stepped-list__title">
            <span class="p-stepped-list__bullet">7</span>
            Enlist and commission servers
          </h3>
          <div class="p-stepped-list__content">
            <p>Now MAAS is ready to enlist and commission machines.</p>
            <ol>
              <li>
                Set all the servers to
                <abbr title="Preboot Execution Environment">PXE</abbr> boot
              </li>
              <li>
                Boot each machine once. You should see these machines appear in
                MAAS
              </li>
              <li>
                If your machines do not have a
                <abbr title="Intelligent Platform Management Interface"
                  >IPMI</abbr
                >
                based BMC, proceed to edit them and enter their BMC details
              </li>
              <li>
                Select all the machines and &ldquo;Commission&rdquo; them using
                the &ldquo;Take action&rdquo; button
              </li>
              <li>
                When machines have a &ldquo;Ready&rdquo; status you can start
                deploying
              </li>
            </ol>
            <p>
              <a
                href="https://assets.ubuntu.com/v1/d3fba4c1-Screenshot+2019-06-06+at+10.47.34.png"
                class="venobox venobox--expand"
                data-gall="installGallery"
                title="The node listing page in MAAS"
              >
                <img
                  src="https://assets.ubuntu.com/v1/d3fba4c1-Screenshot+2019-06-06+at+10.47.34.png?w=552"
                  alt="MAAS node listing"
                  class="p-image--bordered"
                />
              </a>
            </p>
            <p>
              <a class="p-link--external" href="/docs/configuration-journey"
                >Refer to the user manual to get a more detailed guide in how to
                get up and running with MAAS</a
              >
            </p>
          </div>
        </li>
      </ol>
    </div>
  </div>
</section>
{% endblock %}
